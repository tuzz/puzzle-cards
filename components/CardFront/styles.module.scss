@import "./mixins";

.card_front {
  width: 100%;
  height: 100%;
  border-radius: 5% / 3.5714285714%; // 5 * 15/21
  background-color: #aaa;
  background-image: url(/images/silver_foil.jpeg);
  background-size: 200%;
  padding: 1.5%;
  padding-bottom: 0;
  box-sizing: border-box;

  svg {
    font-family: "Trebuchet MS";
    font-weight: bold;
    fill: rgba(0, 0, 0, 0.8);
  }
}

.paper {
  height: 94%;
  border-radius: 4.25% / 3.0357142857%; // 4.25 * 15/21
  background-color: white;
  background-image: url(/images/paper.jpeg);
  background-size: 100%;
  overflow: hidden;
}

.title {
  width: 93%;
  height: 10%;
  margin: 1% auto;
  display: block;
  fill: #222;
}

.bottom_row {
  width: 93%;
  height: 6%;
  margin: auto;
  display: flex;
  justify-content: space-between;
}

.edition {
  width: 40%;
  height: 100%;
  text-shadow: 0.2rem 0.2rem 0.2rem white;
}

.number {
  width: 23.27%;
  height: 100%;
  text-shadow: 0.2rem 0.2rem 0.2rem white;
}

.video {
  width: 100%;
  height: 46%;
  display: flex;
  align-items: center;
  background: #bbb;
  background-image: url(/images/foil_mesh.jpeg);
  background-size: 50% 140%;

  video {
    position: absolute; // Prevents blur when zoomed.
    width: 97%;
  }
}

.type {
  position: absolute;
  left: 1.5%;
  right: 1.5%;
  top: 54.6%;
  bottom: 5.7%;
  display: flex;
  align-items: flex-end;
  justify-content: center;

  img {
    width: 100%;
    display: block;
  }

  .player {
    width: 33%;

    &.swim_left_1,
    &.swim_left_2,
    &.swim_left_3,
    &.swim_left_4,
    &.swim_left_5,
    &.swim_left_6,
    &.swim_left_7,
    &.swim_left_8,
    &.swim_right_1,
    &.swim_right_2,
    &.swim_right_3,
    &.swim_right_4,
    &.swim_right_5,
    &.swim_right_6,
    &.swim_right_7,
    &.swim_right_8 {
      width: 57.926245943%; // 33% * 4507 / 2773 * 1.08
    }

    &.swim_left_1,
    &.swim_left_2,
    &.swim_left_3,
    &.swim_left_4,
    &.swim_left_5,
    &.swim_left_6,
    &.swim_left_7,
    &.swim_left_8,
    &.swim_right_1,
    &.swim_right_2,
    &.swim_right_3,
    &.swim_right_4,
    &.swim_right_5,
    &.swim_right_6,
    &.swim_right_7,
    &.swim_right_8,
    &.tread_water_1,
    &.tread_water_2,
    &.tread_water_3,
    &.tread_water_4,
    &.tread_water_5,
    &.dive {
      &:before {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: 60%;
        bottom: 0.7%;
        background: rgba(38, 47, 251, 0.4);
        border-bottom-left-radius: 4.25% 18%;
        border-bottom-right-radius: 4.25% 18%;
      }
    }

    &.tread_water_1,
    &.tread_water_2,
    &.tread_water_3,
    &.tread_water_4,
    &.tread_water_5 {
      margin-bottom: 2%;

      &:before {
        top: 28%;
        background: rgba(38, 47, 251, 0.35);
        border-bottom-left-radius: 4.25% 10%;
        border-bottom-right-radius: 4.25% 10%;
      }
    }

    &.dive {
      margin-bottom: 2%;

      &:before {
        top: 0;
        background: rgba(38, 47, 251, 0.5);
        border-bottom-left-radius: 4.25% 7%;
        border-bottom-right-radius: 4.25% 7%;
      }
    }

    &.climb_1,
    &.climb_2 {
      margin-bottom: 12%;

      &:before {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0.7%;
        background-image: url(/images/types/ladder.png);
        background-repeat: repeat-y;
        background-position: bottom;
        background-size: 18.4871194362%;
        opacity: 0.3;
      }

      img {
        position: relative;
      }
    }

    &.climb_1 img {
      right: 1.5%;
    }

    &.climb_2 img {
      left: 1.5%;
    }

    &.jump_left_1,
    &.jump_left_2,
    &.jump_left_3,
    &.jump_left_4,
    &.jump_left_5 {
      margin-bottom: 2%;
    }
  }

  .crab {
    width: 51.3084%; // 33% * 0.7774 / 0.5;
    margin-bottom: -1.2%;

    &.crab_swim_left,
    &.crab_swim_right,
    &.crab_floating {
      &:before {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: 30%;
        bottom: 0.7%;
        background: rgba(38, 47, 251, 0.4);
        border-bottom-left-radius: 4.25% 10%;
        border-bottom-right-radius: 4.25% 10%;
      }
    }

    &.crab_swim_left {
      margin-bottom: 8%;
      margin-left: -20%;
    }

    &.crab_swim_right {
      margin-bottom: 8%;
      margin-right: -20%;
    }

    &.crab_floating {
      margin-bottom: 23%;
    }
  }

  .inactive {
    img {
      width: 43.5%;
      margin: auto;
      margin-bottom: 0.3%;
      filter: drop-shadow(0 0 1rem rgba(0, 0, 0, 0.2));
    }

    &.yellow img, &.white img {
      filter: none;
    }

    &.black img {
      filter: drop-shadow(0 0 1rem rgba(0, 0, 0, 0.6));
    }
  }

  .active {
    img {
      width: 80%;
      margin: auto;
      margin-bottom: 0.3%;
    }

    &.yellow img {
      filter: drop-shadow(0 0 0.2rem rgba(0, 0, 0, 0.2));
    }

    &.black img {
      filter: drop-shadow(0 0 0.5rem #97f);
    }

    .text {
      margin-top: -1%;
    }
  }

  .inactive, .active {
    &.white {
      &:before {
        @include black_background;
      }

      .text {
        fill: white;
      }
    }

    img {
      position: relative;
    }

    .text {
      position: absolute;
      width: 70%;
      left: 15%;
      top: 0;
      height: 25%;
    }
  }

  .telescope {
    margin-bottom: -3.1%;
    width: 80%;

    .particles {
      position: absolute;
      width: 27%;
      top: -11%;
    }

    .lock {
      position: absolute;
      width: 13.816925734%; // 80 * 0.4/2.316;
      top: 22.2%;
    }

    &.white {
      &:before {
        @include black_background;
      }

      .text {
        fill: white;
      }
    }

    img {
      position: relative;
    }

    &.yellow .lock {
      filter: drop-shadow(0 0 0.2rem rgba(0, 0, 0, 0.2));
    }

    .text {
      position: absolute;
      top: 47%;
      width: 40%;
      height: 20%;
    }

    &:not(&.mirrored) {
      margin-right: 3%;

      .particles {
        right: 27.5%;
      }

      .lock {
        right: 10.5%;
        transform: rotate(11deg);
      }

      .text {
        transform: rotate(11deg);
        right: 1%;
      }
    }

    &.mirrored {
      .body {
        margin-left: 3%;
        transform: scaleX(-1);
      }

      .particles {
        left: 27.5%;
        transform: scaleX(-1);
      }

      .lock {
        left: 11.3%;
        transform: rotate(-11deg);
      }

      .text {
        transform: rotate(-11deg);
        left: 1%;
      }
    }
  }

  .helix {
    width: 60%;

    &:before {
      @include black_background;
    }

    img {
      position: absolute;
      width: 60%;
      top: 0;
    }

    &.mirrored img {
      transform: scaleX(-1);
    }

    .left_sensor, .right_sensor {
      position: absolute;
      top: 39.5%;
      width: 19.5%;
      height: 7%;

      svg {
        display: block;
        width: 100%;
        height: 100%;
      }

      &:global {
        &.red { background: rgb(255, 50, 50); }
        &.green { background: rgb(50, 255, 50); }
        &.blue { background: rgb(50, 170, 255); }
        &.yellow { background: rgb(255, 255, 0); }
        &.pink { background: rgb(225, 0, 255); }
        &.white { background: white; }

        &.black {
          background: black;
          box-shadow: 0 0 0.3rem #97f;
          fill: #b9f;
        }
      }
    }

    .left_sensor {
      left: 30%;
    }

    .right_sensor {
      right: 30%;
    }

    .left_text, .right_text {
      position: absolute;
      fill: white;
      top: 50%;
      width: 18%;
      height: 15%;

      &:global {
        &.green { transform: scale(0.97); }
        &.yellow { transform: scale(0.86); }
        &.blue { transform: scale(0.95); }
        &.pink { transform: scale(0.93); }
        &.white { transform: scale(0.95); }
        &.black { transform: scale(0.88); }
      }
    }

    .left_text {
      left: 30%;
      transform-origin: left;
    }

    .right_text {
      right: 30%;
      transform-origin: right;
    }
  }

  .map {
    width: 75%;
    display: flex;
    justify-content: center;

    .clock {
      position: absolute;
      width: 16.5664773529%; // 75% * 0.75101364/3.4;
      margin-top: 1.5%;

      animation-name: spin-clockwise;
      animation-duration: 777s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
    }

    .arrow {
      position: absolute;
      width: 2.5%;
    }

    .blur_1, .blur_2, .blur_3, .blur_4, .blur_5, .blur_6, .blur_7, .blur_8 {
      position: absolute;
      width: 3.4082756496%; // 75% * 0.125 / 2.7506578
    }

    .blur_1 { left: 15.3%; top: 79.7%; }
    .blur_2 { left: 20%; top: 76.3%; }
    .blur_3 { left: 15.5%; top: 40%; }
    .blur_4 { left: 20%; top: 11.2%; }
    .blur_5 { left: 78.5%; top: 12.7%; }
    .blur_6 { left: 83%; top: 26.3%; }
    .blur_7 { left: 79.5%; top: 76.2%; }
  }

  .glasses {
    width: 80%;
    margin-bottom: 1%;

    .left_lens, .right_lens {
      position: absolute;
      width: 35%;
      top: 22%;
    }

    .left_lens {
      transform: scaleX(-1);
      left: 15%;
    }

    .right_lens {
      right: 15%;
    }

    .frame {
      position: relative;
    }

    .left_text, .right_text {
      position: absolute;
      top: 38%;
      width: 25%;
      height: 25%;

      &:global {
        &.yellow { transform: scale(0.87); }
        &.pink { transform: scale(0.95); }
        &.white { transform: scale(0.9); }
        &.black {
          fill: white;
          font-weight: normal;
          transform: scale(0.85);
        }
      }
    }

    .left_text {
      left: 18%;
    }

    .right_text {
      right: 18%;
    }
  }

  .eclipse {
    width: 50%;
    margin-bottom: 4.2%;

    &:before {
      @include black_background;
    }

    img {
      position: relative;
      filter: contrast(200%);
    }
  }

  .door {
    width: 33%;
    margin-bottom: -5.8%;

    &:before {
      @include black_background;
    }

    img {
      position: relative;
    }
  }

  .hidden {
    width: 40%;
    height: 40%;
    margin-bottom: 18.5%;

    svg {
      display: block;
      width: 100%;
      height: 100%;
      fill: rgba(0, 0, 0, 0.3);
    }
  }

  .star {
    width: 25%;
    margin-bottom: 23%;

    &:before {
      @include black_background;
    }

    img {
      position: relative;
      filter: drop-shadow(0 0 0.2rem white);

      animation-name: spin-clockwise;
      animation-duration: 60s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;

      &.spin_quickly {
        animation-duration: 6s;
      }
    }

    svg {
      position: absolute;
      width: 20%;
      height: 20%;
      left: 40%;
      bottom: 10%;
      fill: white;
      text-shadow: 0 0 0.5rem black;
    }
  }
}

@keyframes spin-clockwise {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
